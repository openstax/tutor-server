<%
  # Clients of this partial must provide the following variable:
  # form
  # Additionally, they may override the following variables:
  options ||= {}
%>

<%= form.fields 'student', model: form.object.try(:student) do |fields| %>
  <%=
    render partial: File.join('admin', 'demo', 'user'),
           locals: { form: fields, options: options, name: 'Student' }
  %>
<% end %>

<div class="form-group">
  <%= form.label :progress %>
  <%=
    form.number_field :progress, options.merge(
      class: 'form-control',
      required: true,
      placeholder: "Required (unless Task is removed)",
      min: 0,
      max: 1,
      step: 'any'
    )
  %>
</div>

<div class="form-group">
  <%= form.label :score %>
  <%=
    form.number_field :score, options.merge(
      class: 'form-control',
      placeholder: "Required (unless progress is 0)",
      min: 0,
      max: 1,
      step: 'any'
    )
  %>
</div>

<div class="form-group">
  <%= form.label :lateness, 'Lateness (in seconds, positive means late)' %>
  <%= form.number_field :lateness, options.merge(class: 'form-control', placeholder: '-300') %>
</div>
