<%
  # Clients of this partial must provide the following variable:
  # fields
  # Additionally, they may override the following variables:
  name ||= 'Task'
  options ||= {}
%>

<%= fields.fields 'student', model: fields.object.student do |fields| %>
  <div class="form-group">
    <%= fields.label :username, 'Student Username' %>
    <%=
      fields.text_field :username, options.merge(
        class: 'form-control', required: true, placeholder: "Required (unless #{name} is removed)"
      )
    %>
  </div>
<% end %>

<div class="form-group">
  <%= fields.label :progress %>
  <%=
    fields.number_field :progress, options.merge(
      class: 'form-control',
      required: true,
      placeholder: "Required (unless #{name} is removed)",
      min: 0,
      max: 1,
      step: 'any'
    )
  %>
</div>

<div class="form-group">
  <%= fields.label :score %>
  <%=
    fields.number_field :score, options.merge(
      class: 'form-control',
      placeholder: "Required (unless progress is 0)",
      min: 0,
      max: 1,
      step: 'any'
    )
  %>
</div>

<div class="form-group">
  <%= fields.label :lateness, 'Lateness (in seconds, positive means late)' %>
  <%= fields.number_field :lateness, options.merge(class: 'form-control', placeholder: '-300') %>
</div>
