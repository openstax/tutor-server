<%
  # Respects timezone set via Time.use_zone; Uses UTC if not set
  def now
    @now ||= Time.zone.now
  end

  def last_monday
    now.monday
  end

  def next_monday
    last_monday + 1.week
  end

  def standard_opens_at(time)
    time.midnight + 1.minute
  end

  def standard_due_at(time)
    time.midnight + 7.hours
  end

  def standard_closes_at(time)
    standard_due_at time
  end

  def open_last_monday
    standard_opens_at last_monday
  end

  def open_next_monday
    standard_opens_at next_monday
  end

  def due_last_monday
    standard_due_at last_monday
  end

  def due_next_monday
    standard_due_at next_monday
  end

  def closes_last_monday
    standard_closes_at last_monday
  end

  def closes_next_monday
    standard_closes_at next_monday
  end
%>
